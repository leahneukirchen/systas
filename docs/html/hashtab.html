<html>
<head>
<title>Hash Tables</title>
</head>
<body>

<a name="Hash_Tables"></a>



<h2 align=center>Hash Tables</h2>




<small>
<b>up: </b><a href="systas.html#Systas_Scheme">Systas Scheme</a></br>
<b>next: </b><a href="weaks.html#Weak_Vectors_and_Weak_Hash_Tables">Weak Vectors and Weak Hash Tables</a></br>

<b>prev: </b><a href="hash.html#Hash_Values">Hash Values</a></br>

</small>
<br>






<p>A hash table is a vector whose elements are association lists (see
<a href="alist.html#Association_Lists">Association Lists</a> and <a href="vectors.html#Vectors">Vectors</a>).  If the vector has
<code>N</code>
 elements, each <code>key</code>
 is stored on the association list at
<code>(hash-fn key N)</code>
.
</p><p>There are five kinds of hash function:
</p><pre>
     (get-handle hash-table key) => (key . value) | #f
     (create-handle hash-table key) => (key . value)
     (ref hash-table key :optional default) => value | default
     (set! hash-table key value) => hash-table
     (remove! hash-table key value) => hash-table

</pre>
<p>For each of those five kinds of function, four implementations are
provided:
</p><pre>
     hashq-  ; hash function `hashq' and association function `assq'
     hashv-  ; hash function `hashv' and association function `assv'
     hash-   ; hash function `hash' and association function `assoc'
     hashx-  ; hash function and association function are parameters

</pre>
<p>For example, there are:
</p><pre>
     (hashq-ref hash-table key)
     (hashv-ref hash-table key :optional default)
     (hash-ref hash-table key)
     (hashx-ref hash-fn assoc-fn hash-table key)

</pre>
<p><b><u>Function</u> <code><a name="make-hash-table"></a><a name="index-pt:0"></a>
make-hash-table
</code></b><br>
<pre>
(make-hash-table :optional n)

</pre>
<p>Make a hash table (vector) with <code>n</code>
 slots (default: <code>63</code>
).
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashq-get-handle"></a><a name="index-pt:1"></a>
hashq-get-handle
</code></b><br>
<pre>
(hashq-get-handle hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
. Return <code>#f</code>

if no such pair exists.
</p><p>Keys are compared using <code>eq?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashq-create-handle"></a><a name="index-pt:2"></a>
hashq-create-handle
</code></b><br>
<pre>
(hashq-create-handle hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
, creating it if
necessary.
</p><p>Keys are compared using <code>eq?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashq-ref"></a><a name="index-pt:3"></a>
hashq-ref
</code></b><br>
<pre>
(hashq-ref hash-table key (:optional default))

</pre>
<p>Return the value associated with <code>key</code>
 in <code>hash-table</code>
.  If there
is no such value, return <code>default</code>
 or <code>#f</code>
.
</p><p>Keys are compared using <code>eq?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashq-set!"></a><a name="index-pt:4"></a>
hashq-set!
</code></b><br>
<pre>
(hashq-set! hash-table key value)

</pre>
<p>Set the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>eq?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashq-remove!"></a><a name="index-pt:5"></a>
hashq-remove!
</code></b><br>
<pre>
(hashq-remove! hash-table key)

</pre>
<p>Remove the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>eq?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashv-get-handle"></a><a name="index-pt:6"></a>
hashv-get-handle
</code></b><br>
<pre>
(hashv-get-handle hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
. Return <code>#f</code>

if no such pair exists.
</p><p>Keys are compared using <code>eqv?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashv-create-handle"></a><a name="index-pt:7"></a>
hashv-create-handle
</code></b><br>
<pre>
(hashv-create-handle hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
 creating it if
necessary.
</p><p>Keys are compared using <code>eqv?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashv-ref"></a><a name="index-pt:8"></a>
hashv-ref
</code></b><br>
<pre>
(hashv-ref hash-table key (:optional default))

</pre>
<p>Return the value associated with <code>key</code>
 in <code>hash-table</code>
.
If there is no such value, return <code>default</code>
 or <code>#f</code>
.
</p><p>Keys are compared using <code>eqv?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashv-set!"></a><a name="index-pt:9"></a>
hashv-set!
</code></b><br>
<pre>
(hashv-set! hash-table key value)

</pre>
<p>Set the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>eqv?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashv-remove!"></a><a name="index-pt:10"></a>
hashv-remove!
</code></b><br>
<pre>
(hashv-remove! hash-table key)

</pre>
<p>Remove the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>eqv?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hash-get-handle"></a><a name="index-pt:11"></a>
hash-get-handle
</code></b><br>
<pre>
(hash-get-handle hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
. Return <code>#f</code>

if no such pair exists.
</p><p>Keys are compared using <code>equal?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hash-create-handle"></a><a name="index-pt:12"></a>
hash-create-handle
</code></b><br>
<pre>
(hash-create-handle hash-table obj)

</pre>
<p>Return (perhaps create) a key-value pair for <code>obj</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>equal?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hash-ref"></a><a name="index-pt:13"></a>
hash-ref
</code></b><br>
<pre>
(hash-ref hash-table key (:optional default))

</pre>
<p>Return the value associated with <code>key</code>
 in <code>hash-table</code>
.  If there
is no such value, return <code>default</code>
 or <code>#f</code>
.
</p><p>Keys are compared using <code>equal?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hash-set!"></a><a name="index-pt:14"></a>
hash-set!
</code></b><br>
<pre>
(hash-set! hash-table key value)

</pre>
<p>Set the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>equal?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hash-remove!"></a><a name="index-pt:15"></a>
hash-remove!
</code></b><br>
<pre>
(hash-remove! hash-table key)

</pre>
<p>Remove the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Keys are compared using <code>equal?</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashx-get-handle"></a><a name="index-pt:16"></a>
hashx-get-handle
</code></b><br>
<pre>
(hashx-get-handle hash-fn assoc-fn hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
. Return <code>#f</code>

if no such pair exists.
</p><p>Hash values are computed using <code>hash-fn</code>
.   Buckets are searched 
using <code>assoc-fn</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashx-create-handle"></a><a name="index-pt:17"></a>
hashx-create-handle
</code></b><br>
<pre>
(hashx-create-handle hash-fn assoc-fn hash-table obj)

</pre>
<p>Return a key-value pair for <code>obj</code>
 in <code>hash-table</code>
, creating it if
necessary.
</p><p>Hash values are computed using <code>hash-fn</code>
.   Buckets are searched 
using <code>assoc-fn</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashx-ref"></a><a name="index-pt:18"></a>
hashx-ref
</code></b><br>
<pre>
(hashx-ref hash-fn assoc-fn hash-table key (:optional default))

</pre>
<p>Return the value associated with <code>key</code>
 in <code>hash-table</code>
. Return
<code>default</code>
 or <code>#f</code>
 if no such value exists.
</p><p>Hash values are computed using <code>hash-fn</code>
.   Buckets are searched 
using <code>assoc-fn</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashx-set!"></a><a name="index-pt:19"></a>
hashx-set!
</code></b><br>
<pre>
(hashx-set! hash-fn assoc-fn hash-table key value)

</pre>
<p>Set the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Hash values are computed using <code>hash-fn</code>
.   Buckets are searched 
using <code>assoc-fn</code>
.
</p>
<br>
<br><p><b><u>Function</u> <code><a name="hashx-remove"></a><a name="index-pt:20"></a>
hashx-remove
</code></b><br>
<pre>
(hashx-remove hash-fn assoc-fn hash-table key)

</pre>
<p>Remove the value associated with <code>key</code>
 in <code>hash-table</code>
.
</p><p>Hash values are computed using <code>hash-fn</code>
.   Buckets are searched 
using <code>assoc-fn</code>
 and the key-value pair removed using <code>del</code>
.
</p>
<br>
<br>
<a name="Rationale_--_Hash_Tables"></a>



<h3 align=center>Rationale -- Hash Tables</h3>










<p>The hash table functions follow the general pattern of interfaces
for dictionaries (see <a href="dictionaries.html#Rationale_--_Dictionaries_in_General">Rationale -- Dictionaries in General</a>).
</p>


















<small><i>Systas Scheme: Language Reference Manual

</i></small><br>




</body>
